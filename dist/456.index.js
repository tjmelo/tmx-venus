"use strict";(self.webpackChunk_tjmelo_tmx_venus=self.webpackChunk_tjmelo_tmx_venus||[]).push([[456],{456:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});const a="https://63f239144f17278c9a22d1cd.mockapi.io/api/v1/item",o={ADD_ITEM:document.querySelector(".add-item"),ALL_ITEMS:document.querySelector(".all-items")},r=(e,t)=>{const n=document.createElement(e);return n.innerHTML=t,n},i=async(e,t)=>{const n=await fetch(e,t);return await n.json()},c=(e,t)=>{t?(({parentNodeReference:e,itemNodeReference:t,toEditedItemI:n,el:a})=>{n.classList.remove("d-none"),a.classList.add("d-none"),e.classList.add("bg-light","shadow","text-primary"),t.setAttribute("contentEditable",!0),t.focus()})(e):(({parentNodeReference:e,itemNodeReference:t,toEditedItemI:n,el:a})=>{t.removeAttribute("contentEditable"),n.classList.add("d-none"),a.classList.remove("d-none"),e.classList.remove("bg-light","shadow","text-primary")})(e)},s=async()=>{const e=await i(a);o.ALL_ITEMS.innerHTML="",e.forEach((e=>{const t=document.createElement("li");return t.className="border-list list-group-item",t.innerHTML=`<span class="item">${e.description}</span>`,t.appendChild((e=>{const t=document.createElement("input");return t.type="checkbox",t.value=e,t.className="check",t})(e.description)),t.appendChild((e=>{const t=document.createElement("span");var n,a;return t.className="box-actions",a=e,(n=t).appendChild(r("button",`<i id="${a}" title="Save" class="d-none fas fa-cart-arrow-down"></i>`)),n.appendChild(r("button",`<i id="${a}" title="Edit" class="fas fa-pen-square"></i>`)),n.appendChild(r("button",`<i id="${a}" title="Delete" class="fas fa-trash"></i>`)),t})(e.id)),o.ALL_ITEMS.appendChild(t)})),(async()=>{const e=document.querySelectorAll(".fa-pen-square"),t=document.querySelectorAll(".fa-cart-arrow-down");e.forEach(((e,n)=>{e.addEventListener("click",(async({target:o})=>{const{id:r}=o,s=e.parentNode.parentNode.parentNode,d=s.querySelector(".item"),l={parentNodeReference:s,itemNodeReference:d,toEditedItemI:t[n],el:e};c(l,!0),t[n].addEventListener("click",(async()=>{await i(`${a}/${r}`,{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({description:d.textContent})}).then((()=>c(l,!1)))}))}))}))})(),document.querySelectorAll(".fa-trash").forEach((e=>{e.addEventListener("click",(({target:t})=>{const n=e.parentNode.parentNode.parentNode,{id:o}=t;window.confirm("Are you sure want to exclude that item?")&&i(`${a}/${o}`,{method:"DELETE"}).then((()=>{n.remove(),"vibrate"in navigator&&navigator.vibrate(100)}))}))}))},d=class{constructor(){this.toListItems=s(),this.toAddList=o.ADD_ITEM.addEventListener("click",(e=>{const t=document.querySelector(".value-item");e.preventDefault();const n=t.value;i(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:n})}).then((()=>{s(),t.value="","vibrate"in navigator&&navigator.vibrate(100)})).catch((e=>console.error(e)))}))}},l=()=>new d;l();const m=l}}]);
//# sourceMappingURL=456.index.js.map