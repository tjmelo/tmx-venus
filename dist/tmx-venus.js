(()=>{"use strict";const e="https://tmx-shoplist.netlify.app/.netlify/functions/api/",t=(e,t)=>new Promise((n=>{fetch(e,t).then((e=>e.ok?e.json():console.warn(e))).then((e=>n(e))).catch((e=>console.error(e)))})),n={VALUEITEM:document.querySelector(".value-item"),ADDITEM:document.querySelector(".add-item"),ALLITEMS:document.querySelector(".all-items")},o=(e,t,n)=>e.addEventListener(t,n),a={checkbox:e=>{const t=document.createElement("input");return t.type="checkbox",t.value=e,t.className="check",t},actionIcon:(e,t)=>{const n=document.createElement(e);return n.innerHTML=t,n},actions:e=>{const t=document.createElement("span");return t.className="box-actions",t.appendChild(a.actionIcon("button",`<i id="${e}" title="Save" class="d-none fas fa-cart-arrow-down"></i>`)),t.appendChild(a.actionIcon("button",`<i id="${e}" title="Edit" class="fas fa-pen-square"></i>`)),t.appendChild(a.actionIcon("button",`<i id="${e}" title="Delete" class="fas fa-trash"></i>`)),t}},c=()=>{document.querySelectorAll(".fa-trash").forEach((n=>{o(n,"click",(({target:n})=>{const{id:o}=n;window.confirm("Are you sure want to exclude that item?")&&t(`${e}/${o}`,{method:"DELETE"}).then((()=>i()))}))}))},r=()=>{const n=document.querySelectorAll(".fa-pen-square"),o=document.querySelectorAll(".fa-cart-arrow-down");n.forEach(((n,a)=>{n.addEventListener("click",(({target:c})=>{const{id:r}=c,s=n.parentNode.parentNode.parentNode,d=s.querySelector(".item");d.setAttribute("contentEditable",!0),o[a].classList.remove("d-none"),n.classList.add("d-none"),s.classList.add("shadow","rounded","border"),d.classList.add("text-warning"),d.focus(),o[a].addEventListener("click",(()=>{t(`${e}/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({item:d.textContent})}).then((()=>i()))}))}))}))},i=async()=>{t(e).then((e=>{let t;return n.ALLITEMS.innerHTML="",e.forEach((e=>{const o=document.createElement("li");o.className="border-list",o.innerHTML=`<span class="item">${e.item}</span>`,o.appendChild(a.checkbox(e.item)),o.appendChild(a.actions(e.id)),t=n.ALLITEMS.appendChild(o)})),t})).then(c).then(r).catch((e=>console.error(e)))};o(window,"load",(a=>{var c,s;a.preventDefault(),i(),c=n.ADDITEM,s=n.VALUEITEM,o(c,"click",(async n=>{n.preventDefault();const o=s.value;t(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item:o})}).then((()=>i())).catch((e=>console.error(e)))})),r()}))})();
//# sourceMappingURL=tmx-venus.js.map