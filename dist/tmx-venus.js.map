{"version":3,"file":"tmx-venus.js","mappings":"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","sources":["webpack://tmx-venus-shop-list/./src/classes/constants.js","webpack://tmx-venus-shop-list/./src/index.js","webpack://tmx-venus-shop-list/./src/classes/app.js"],"sourcesContent":["export const KEYS = {\n  API: 'https://63f239144f17278c9a22d1cd.mockapi.io/api/v1/item',\n};\n\nexport const ELEM = {\n  ADD_ITEM: document.querySelector('.add-item'),\n  ALL_ITEMS: document.querySelector('.all-items'),\n};\n","import App from './classes/app';\n\nconst startApp = new App();\n","import { KEYS, ELEM } from './constants';\n\nclass App {\n  constructor() {\n    this.toListItems();\n    this.toAddList(ELEM.ADD_ITEM);\n  }\n\n  async #toFetchAPI(api, params = {}) {\n    this.api = await fetch(api, params);\n    this.data = await this.api.json();\n    return this.data;\n  }\n\n  async toListItems() {\n    this.list = await this.#toFetchAPI(KEYS.API);\n    ELEM.ALL_ITEMS.innerHTML = '';\n\n    this.list.forEach((item) => {\n      const nodeItem = document.createElement('li');\n      nodeItem.className = 'border-list list-group-item';\n      nodeItem.innerHTML = `<span class=\"item\">${item.description}</span>`;\n      nodeItem.appendChild(this.#toCheckbox(item.description));\n      nodeItem.appendChild(this.#toActions(item.id));\n      return ELEM.ALL_ITEMS.appendChild(nodeItem);\n    });\n\n    this.toEdit();\n    this.toRemoveItem();\n  }\n\n  #toCheckbox(value) {\n    this.elemCheck = document.createElement('input');\n    this.elemCheck.type = 'checkbox';\n    this.elemCheck.value = value;\n    this.elemCheck.className = 'check';\n    return this.elemCheck;\n  }\n\n  #toActionIcon(element, icon) {\n    this.actionIcon = document.createElement(element);\n    this.actionIcon.innerHTML = icon;\n    return this.actionIcon;\n  }\n\n  #toActions(element) {\n    const boxActions = document.createElement('span');\n    boxActions.className = 'box-actions';\n    boxActions.appendChild(this.#toActionIcon('button', `<i id=\"${element}\" title=\"Save\" class=\"d-none fas fa-cart-arrow-down\"></i>`));\n    boxActions.appendChild(this.#toActionIcon('button', `<i id=\"${element}\" title=\"Edit\" class=\"fas fa-pen-square\"></i>`));\n    boxActions.appendChild(this.#toActionIcon('button', `<i id=\"${element}\" title=\"Delete\" class=\"fas fa-trash\"></i>`));\n    return boxActions;\n  }\n\n  toAddList(elemAdd) {\n    elemAdd.addEventListener('click', async (e) => {\n      const elementValue = document.querySelector('.value-item');\n      e.preventDefault();\n      const newItem = elementValue.value;\n      this.#toFetchAPI(KEYS.API, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ description: newItem }),\n      })\n        .then(() => {\n          this.toListItems();\n          elementValue.value = '';\n        })\n        .catch((error) => console.error(error));\n    });\n  }\n\n  toEdit() {\n    const toEditItem = document.querySelectorAll('.fa-pen-square');\n    const toEditeditem = document.querySelectorAll('.fa-cart-arrow-down');\n    toEditItem.forEach((el, idx) => {\n      el.addEventListener('click', ({ target }) => {\n        const { id } = target;\n        const reference = el.parentNode.parentNode.parentNode;\n        const itemReference = reference.querySelector('.item');\n        reference.classList.add('bg-light');\n        itemReference.setAttribute('contentEditable', true);\n\n        toEditeditem[idx].classList.remove('d-none');\n        el.classList.add('d-none');\n        reference.classList.add('shadow', 'text-primary');\n        itemReference.focus();\n\n        toEditeditem[idx].addEventListener('click', () => {\n          this.#toFetchAPI(`${KEYS.API}/${id}`, {\n            method: 'PUT',\n            headers: { 'content-type': 'application/json' },\n            body: JSON.stringify({ description: itemReference.textContent }),\n          }).then(() => this.toListItems());\n        });\n      });\n    });\n  }\n\n  toRemoveItem() {\n    const item = document.querySelectorAll('.fa-trash');\n    item.forEach((el) => {\n      el.addEventListener('click', ({ target }) => {\n        const { id } = target;\n        const exclude = () => {\n          this.#toFetchAPI(`${KEYS.API}/${id}`, {\n            method: 'DELETE',\n          }).then(() => this.toListItems());\n        };\n        if (window.confirm('Are you sure want to exclude that item?')) { //eslint-disable-line\n          exclude();\n        }\n      });\n    });\n  }\n}\n\nexport default App;\n"],"names":["KEYS","ELEM","ADD_ITEM","document","querySelector","ALL_ITEMS","constructor","this","toListItems","toAddList","async","api","params","fetch","data","json","list","innerHTML","forEach","item","nodeItem","createElement","className","description","appendChild","id","toEdit","toRemoveItem","value","elemCheck","type","element","icon","actionIcon","boxActions","elemAdd","addEventListener","e","elementValue","preventDefault","newItem","method","headers","body","JSON","stringify","then","catch","error","console","toEditItem","querySelectorAll","toEditeditem","el","idx","target","reference","parentNode","itemReference","classList","add","setAttribute","remove","focus","textContent","window","confirm","exclude"],"sourceRoot":""}